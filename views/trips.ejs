<html>
<head>
<meta name="viewport" content="initial-scale=1.0">
<title>Vacation Rentals</title>
<script type="text/javascript"
	src="https://cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
<script type="text/javascript"
	src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/bootstrap/3/css/bootstrap.css" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<!-- Loading the AngularJS file from /public/angularJS folder -->
<script src="angularjs/trip.js"></script>

<!-- Include Date Range Picker -->
<script type="text/javascript"
	src="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
<link rel="shortcut icon" sizes="76x76" type="image/x-icon"
	href="https://a1.muscache.com/airbnb/static/logotype_favicon-21cc8e6c6a2cca43f061d2dcabdf6e58.ico">
<link rel="icon" sizes="192x192"
	href="https://a1.muscache.com/airbnb/static/icons/android-icon-192x192-c0465f9f0380893768972a31a614b670.png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script
	src="http://m-e-conroy.github.io/angular-dialog-service/javascripts/dialogs.min.js"
	type="text/javascript"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.2.0/ui-bootstrap.js"></script>

<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-animate.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet"
	href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<link rel="stylesheet"
	href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
body {
	font-family: Circular, "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size: 14px;
	line-height: 1.43;
	color: #484848;
	background-color: #fff;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

.panel-trips {
	border: 0;
	border-radius: 1px;
	font-size: 16px;
	margin-top: 20px;
}

.pin {
	display: -webkit-box;
	display: -webkit-flex;
	display: -moz-box;
	display: -ms-flexbox;
	display: flex;
	justify-content: center;
	flex-direction: column;
	height: 100%;
	width: 300px;
	position: absolute;
	top: 0;
	right: 0;
	font-weight: bold;
	color: #fff;
}

.image-container {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 100%;
	height: 100%;
	background-position: 50% 50%;
}

.photo {
	backface-visibility: hidden;
	position: relative;
	display: inline-block;
	vertical-align: bottom;
	overflow: hidden;
	background-color: #bbb;
}

.host_name {
	position: relative;
	margin-top: 10px;
	z-index: 100;
	font-size: 18px;
}

.pin_new {
	width: 100%;
	height: 200px;
	margin: 0;
	display: flex;
	justify-content: center;
	flex-direction: column;
	position: absolute;
	top: 0;
	right: 0;
	font-weight: bold;
	color: #fff;
}

.img-container {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 100%;
	height: 100%;
	background-position: 50% 50%;
}

.img_photo {
	backface-visibility: hidden;
	position: relative;
	display: inline-block;
	vertical-align: bottom;
	overflow: hidden;
	background-color: #bbb;
}

.action_trips {
	display: flex;
	-webkit-box-pack: center;
	justify-content: center;
	-webkit-box-orient: vertical;
	-webkit-box-direction: normal;
	flex-direction: column;
	padding: 0;
}

.lower_row {
	display: flex;
	-webkit-box-pack: center;
	justify-content: center;
	-webkit-box-orient: vertical;
	-webkit-box-direction: normal;
	flex-direction: column;
	height: auto;
}

.lower_row_column {
	display: flex;
	-webkit-box-pack: start;
	justify-content: flex-start;
	-webkit-box-orient: horizontal;
	-webkit-box-direction: normal;
	flex-direction: row;
}

.link_item {
	display: flex;
	-webkit-box-pack: center;
	justify-content: center;
	-webkit-box-orient: vertical;
	-webkit-box-direction: normal;
	flex-direction: column;
	max-width: 176px;
}

.row_trip {
	height: auto;
	display: flex;
	-webkit-box-pack: start;
	justify-content: flex-start;
	-webkit-box-pack: start;
}

.dropdown-content {
	display: none;
	position: absolute;
	background-color: white;
	min-width: 160px;
	box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
}

.dropdown-content a {
	color: black;
	padding: 12px 16px;
	text-decoration: none;
	display: block;
}

.dropdown-content a:hover {
	background-color: #f1f1f1
}

.dropdown:hover .dropdown-content {
	display: block;
}

.dropdown:hover .dropbtn {
	background-color: #3e8e41;
}

.star {
	/* padding: 1px; */
	color: #ddd;
	font-size: 30px;
	text-shadow: .05em .05em #aaa;
	list-style-type: none;
	display: inline-block;
	cursor: pointer;
}

.filled {
	color: #fd0;
}

.media-photo {
	backface-visibility: hidden;
	position: relative;
	display: inline-block;
	vertical-align: bottom;
	overflow: hidden;
	background-color: #bbb;
}

.media-round {
	border-radius: 50%;
	border: 2px solid #fff;
}
</style>
</head>
<body ng-app="trip" ng-controller="trip" ng-init="listTrips();">
	<div style="z-index: 1000; display: block;position:relative;">
		<nav class="navbar navbar-default "
			style="background-color: transparent; background: transparent; border-color: transparent;">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand" href="/home"
						style="border-right: 1px solid #dce0e0;"> <img
						src="https://a1.muscache.com/airbnb/static/icons/android-icon-192x192-c0465f9f0380893768972a31a614b670.png"
						alt="some_text"
						style="height: 30px; font-weight: normal; font-size: inherit; background-color: transparent; color: inherit; top: -2px; font-family:"HelveticaNeue";font-size: 14px;    padding: 4px 12px;     ">
					</a>

				</div>
				<ul class="nav navbar-nav pull-right" style="z-index: 100000;"
					style="overflow: hidden; font-family: Circular,"HelveticaNeue",Helvetica; top: -2px;font-size: 14px;padding: 4px 12px;"-webkit-font-smoothing:antialiased;">
					
					<li ng-if="profile.status  === 0"><a href="" ng-click="becomeHost()">Become a Host</a></li>
					<li ng-if="profile.status  === 1" ><a href="" ><span style="color:red">Become a Host (Pending)</span></a>
					<li ng-if="profile.status  === 2"><a href="/hostlistings">Host</a>
					<li><a href="/trips">Trips</a>
					<li class="dropdown"><a href="/profile"> <img width="28"
							height="28" class="img-circle dropbtn" ng-src="{{imageUrl}}"
							style="border-color: #c4c4c4; border: 2px solid #c4c4c4;">
					</a>

						<div class="dropdown-content">
							<label> <a href="/logout">Logout</a>
							</label>
						</div></li>

				</ul>

			</div>
		</nav>
	</div>

	<div>
		<nav class="navbar navbar-inverse">
			<div class="container-fluid">
				<ul class="nav navbar-nav nav-stacked">
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
					<li><a href="/dashboard">Dashboard</a></li>
					<li class="active"><a href="/trips">Trips</a></li>
					<li><a href="/account">Account</a></li>
					<li><a href="/profile">Profile</a></li>
				</ul>

			</div>
		</nav>
	</div>

	<div id="page-container"
		style="margin-bottom: 24px; width: 1080px; padding-left: 24px; padding-right: 24px; margin-left: auto; margin-right: auto;">

		<div id="your_trips">
			<div>
				<div class="panel-group" id="accordion">
					<div class="panel panel-default">

						<div class="panel-heading">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion"
									href="#collapse1">Pending Trips</a>
							</h4>
						</div>

						<div id="collapse1" class="panel-collapse collapse in">
							<div class="panel-body">

								<div style="margin-top: 48px; margin-bottom: 24px;">

									<div class="row">
										<div class="col-sm-12">
											<div class="alert alert-info" ng-hide="no_pendingtrips">
												<strong>You don't have any trips pending for
													approval!</strong>
											</div>
										</div>
									</div>
									<h4
										style="margin-bottom: 15px; font-size: 16px; font-weight: normal;">
										<span ng-show="no_pendingtrips">Awaiting confirmation
											from the host. Hold On. .</span>
									</h4>

								</div>

								<div class="current_trips">
									<div class="display: block !important;">
										<div
											ng-repeat="trip in pendingTrips | startFrom:currentPage1*pageSize1 | limitTo:pageSize1"
											ng-click="$parent.selected = trip">

											<div class="panel-group">
												<div class="panel panel-trips"
													style="background-color: #fff;">
													<div class="panel-body"
														style="padding-bottom: 0; border: 1px #dce0e0 solid !important; padding: 0; width: 100%; height: auto; position: relative; margin: 0;">
														<div
															style="position: relative; padding: 20px 320px 0 20px;">

															<div class="check-in-out" style="padding: 20px 0 45px;">
																<div class="schedule"
																	style="padding: 0 20px; color: #484848;">
																	<div style="margin-bottom: 18px;">
																		<div class="city" style="font-size: 36px;">{{
																			trip.city }}</div>
																		<div>
																			<a href='#'
																				style="color: #008489; text-decoration: none; background: transparent;">
																				<span style="font-weight: normal; color: #2d2d2d;">{{
																					trip.title }}</span>
																			</a> <span> · </span> <span>{{ trip.No_of_guests
																				}} guests</span>
																		</div>
																	</div>

																	<div class="row">
																		<div class="col-md-12">
																			<div class="col-sm-5"
																				style="padding-left: 0; float: left;">
																				<div class="check-in-out"
																					style="font-size: 16px; padding-bottom: 3px;">
																					<strong>{{
																						trip.check_in.toString().substring(0,10) }}</strong>
																				</div>

																				<div
																					style="font-size: 11px; vertical-align: middle; color: #767676;">
																					<strong>CHECK IN 5:00 PM</strong>
																				</div>
																			</div>

																			<div class="col-sm-5"
																				style="padding-left: 0; float: left;">
																				<div class="check-in-out"
																					style="font-size: 16px; padding-bottom: 3px;">
																					<strong>{{
																						trip.check_out.toString().substring(0,10) }}</strong>
																				</div>

																				<div
																					style="font-size: 11px; vertical-align: middle; color: #767676;">
																					<strong>CHECK OUT 12:00 PM (NOON)</strong>
																				</div>
																			</div>
																		</div>
																	</div>


																</div>
															</div>



														</div>
														
														

														<div class="pin">
															<a href='#'
																style="color: #008489; text-decoration: none; background: transparent;">
																<div class="image-container"
																	style="background-image: url(http://localhost:3001/getpicture0?prop_id={{trip.prop_id}});"></div>
															</a>
														<!-- 	<div style="text-align: center;">
																<a href='#' class="img-round photo"
																	style="width: 60px; height: 60px; border-radius: 50%; border: 2px solid #fff; color: #008489; text-decoration: none; background: transparent;">

																	<img height="50" width="50"
																	src="https://a2.muscache.com/im/pictures/d5de2adb-a84b-4f81-814c-5f24c5701e4a.jpg?aki_policy=profile_small"
																	style="height: 60px; width: 60px; vertical-align: middle; border: 0;">

																</a>
																<div class="host_name">{{ trip.lname }}</div>

															</div> -->
														</div>



													</div>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-4"></div>
											<div class="col-md-5" ng-show="no_pendingtrips">
												<button
													style="width: 25%; border-color: #ff5a5f; background-color: #ff5a5f; color: #fff;"
													class="btn" ng-disabled="currentPage1 == 0"
													ng-click="currentPage1=currentPage1-1">Previous</button>
												{{currentPage1+1}}/{{numberOfPages1()}}

												<button
													style="width: 25%; border-color: #ff5a5f; background-color: #ff5a5f; color: #fff;"
													class="btn"
													ng-disabled="currentPage1 >= data1.length/pageSize1 - 1"
													ng-click="currentPage1=currentPage1+1">Next</button>
											</div>
											<div class="col-md-3"></div>
										</div>





									</div>
								</div>
							</div>
						</div>
					</div>


					<div class="panel panel-default">

						<div class="panel-heading">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion"
									href="#collapse2">Confirmed Trips</a>
							</h4>
						</div>
						<div id="collapse2" class="panel-collapse collapse">
							<div class="panel-body">


								<div class="row">
									<div class="col-sm-12">
										<div class="alert alert-info" ng-hide="no_confirmedtrips">
											<strong>You don't have any confirmed trips!</strong>
										</div>
									</div>
								</div>


								<div class="current_trips">
									<div class="display: block !important;">
										<div
											ng-repeat="trip in confirmedTrips | startFrom:currentPage2*pageSize2 | limitTo:pageSize2"
											ng-click="$parent.selected = trip">

											<div class="panel-group">
												<div class="panel panel-trips"
													style="background-color: #fff;">
													<div class="panel-body"
														style="padding-bottom: 0; border: 1px #dce0e0 solid !important; padding: 0; width: 100%; height: auto; position: relative; margin: 0;">
														<div
															style="position: relative; padding: 20px 320px 0 20px;">

															<div class="check-in-out" style="padding: 20px 0 45px;">
																<div class="schedule"
																	style="padding: 0 20px; color: #484848;">
																	<div style="margin-bottom: 18px;">
																		<div class="city" style="font-size: 36px;">{{
																			trip.city }}</div>
																		<div>
																			<a href='#'
																				style="color: #008489; text-decoration: none; background: transparent;">
																				<span style="font-weight: normal; color: #2d2d2d;">{{
																					trip.title }}</span>
																			</a> <span> · </span> <span>{{ trip.No_of_guests
																				}} guests</span>
																		</div>
																	</div>

																	<div class="row">
																		<div class="col-md-12">
																			<div class="col-sm-5"
																				style="padding-left: 0; float: left;">
																				<div class="check-in-out"
																					style="font-size: 16px; padding-bottom: 3px;">
																					<strong>{{
																						trip.check_in.toString().substring(0,10) }}</strong>
																				</div>

																				<div
																					style="font-size: 11px; vertical-align: middle; color: #767676;">
																					<strong>CHECK IN 5:00 PM</strong>
																				</div>
																			</div>

																			<div class="col-sm-5"
																				style="padding-left: 0; float: left;">
																				<div class="check-in-out"
																					style="font-size: 16px; padding-bottom: 3px;">
																					<strong>{{
																						trip.check_out.toString().substring(0,10) }}</strong>
																				</div>

																				<div
																					style="font-size: 11px; vertical-align: middle; color: #767676;">
																					<strong>CHECK OUT 12:00 PM (NOON)</strong>
																				</div>
																			</div>
																		</div>
																	</div>


																</div>
															</div>

															<div
																style="margin: 0 15px; min-height: 70px; border-top: 1px solid #bbb;">

																<div class="action_trips">

																	<div class="row row_trip" style="margin: 0;">

																		<div class="col-md-12 lower_row"
																			style="padding: 15px 5px;">

																			<div class="lower_row_column">
																				<div class="link_item"></div>
																				<div class="link_item">
																					<a href='#'
																						style="margin-left: 10px; position: relative; font-size: 16px; color: #2d2d2d; text-decoration: none; background: transparent;">

																						Send Message</a>
																				</div>
																			</div>

																		</div>
																		<div class="col-md-12 lower_row"
																			style="padding: 15px 5px;">

																			<div class="lower_row_column">
																				<div class="link_item"></div>
																				<div class="link_item">

																					<a href="" ng-click="alterTrip(trip)"
																						style="margin-left: 10px; position: relative; font-size: 16px; color: #2d2d2d; text-decoration: none; background: transparent;">

																						Change or Cancel</a>
																				</div>
																			</div>

																		</div>
																		<div class="col-md-12 lower_row"
																			style="padding: 15px 5px;">

																			<div class="lower_row_column">
																				<div class="link_item"></div>
																				<div class="link_item">
																					<a href='#'
																						style="margin-left: 10px; position: relative; font-size: 16px; color: #2d2d2d; text-decoration: none; background: transparent;">

																						Share Itinerary</a>
																				</div>
																			</div>

																		</div>

																	</div>

																</div>

															</div>

														</div>
														

														<div class="pin">
															<a href='#'
																style="color: #008489; text-decoration: none; background: transparent;">
																<div class="image-container"
																	style="background-image: url(http://localhost:3001/getpicture0?prop_id={{trip.prop_id}});"></div>
															</a>
															<!-- <div style="text-align: center;">
																<a href='#' class="img-round photo"
																	style="width: 60px; height: 60px; border-radius: 50%; border: 2px solid #fff; color: #008489; text-decoration: none; background: transparent;">

																	<img height="50" width="50"
																	src="https://a2.muscache.com/im/pictures/d5de2adb-a84b-4f81-814c-5f24c5701e4a.jpg?aki_policy=profile_small"
																	style="height: 60px; width: 60px; vertical-align: middle; border: 0;">

																</a>
																<div class="host_name">{{ trip.lname }}</div>

															</div> -->
														</div>

													</div>
												</div>
											</div>
										</div>

										<div class="row">
											<div class="col-md-4"></div>
											<div class="col-md-5" ng-show="no_confirmedtrips">
												<button
													style="width: 25%; border-color: #ff5a5f; background-color: #ff5a5f; color: #fff;"
													class="btn" ng-disabled="currentPage2 == 0"
													ng-click="currentPage2=currentPage2-1">Previous</button>
												{{currentPage2+1}}/{{numberOfPages2()}}

												<button
													style="width: 25%; border-color: #ff5a5f; background-color: #ff5a5f; color: #fff;"
													class="btn"
													ng-disabled="currentPage2 >= data2.length/pageSize2 - 1"
													ng-click="currentPage2=currentPage2+1">Next</button>
											</div>
											<div class="col-md-3"></div>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>


					<div class="panel panel-default">

						<div class="panel-heading">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion"
									href="#collapse3">Past Trips</a>
							</h4>
						</div>
						<div id="collapse3" class="panel-collapse collapse">
							<div class="panel-body">

								<div class="row">
									<div class="col-sm-12">
										<div class="alert alert-info" ng-hide="no_pasttrips">
											<strong>No trips to show here!</strong>
										</div>
									</div>
								</div>
								<div class="past_trips" ng-click="resetErrors();">
									<div style="display: block !important;">
										<div class="row">
											<div class="col-md-4"
												ng-repeat="trip in pastTrips | startFrom:currentPage3*pageSize3 | limitTo:pageSize3"
												ng-click="$parent.pastselected = trip">
												<div class="panel-group">
													<div class="panel panel-trips"
														style="background-color: #fff;">
														<div class="panel-body"
															style="padding-bottom: 230px; border: 1px #dce0e0 solid !important;; padding: 0; width: 100%; height: auto; position: relative; margin: 0;">

															<!-- <div
															style="position: relative; padding: 20px 320px 0 20px;"> -->

															<!-- <div
															style="text-align: center;position: relative;top: 230px;width:100%"> -->
															<div
																style="text-align: center; padding: 0; margin-top: 0; position: relative; top: 230px; width: 100%; height: 70%;">

																<div class="check-in-out"
																	style="width: 100%; padding-bottom: 27px; padding-top: 20px;">

																	<div
																		style="width: 100%; padding: 0 20px; color: #484848;">
																		<div style="margin-bottom: 18px;">
																			<div class="city-small"
																				style="font-size: 24px; overflow: hidden;">{{
																				trip.city }}</div>
																		</div>

																		<div>
																			<span>{{
																				trip.check_in.toString().substring(0,10) }} - {{
																				trip.check_out.toString().substring(0,10) }}</span> <span><span>
																					· </span><span>{{ trip.No_of_guests }} guests</span></span>
																			<div style="margin-top: 6px;">
																				<a href='#'
																					style="color: #008489; text-decoration: none; background: transparent;">

																					<div style="font-weight: normal; color: #2d2d2d;">{{
																						trip.title }}</div>

																				</a>

																			</div>
																		</div>

																	</div>

																</div>



																<div class="action-wrap"
																	style="height: auto; text-align: center;">
																	<!-- <div
																		style="width: 100%; padding: 0 20px; color: #484848;"> -->
																	<div class="actions"
																		style="border: 0; height: auto; padding: 0 10px;">
																		<div class="row" style="margin: 0;">

																			<div style="margin-bottom: 12px;">

																				<div class="rating-wrapper" ng-if="trip.rating!=0">


																					<div class="rating"
																						style="display: inline-block; position: relative;">
																						<span class="star"
																							ng-repeat="n in [] | range:trip.rating"
																							style="font-size: 20px; color: #155f13;"><i
																							class="fa fa-star"></i> </span>

																					</div>
																					<div class="rating"
																						style="display: inline-block; position: relative;">
																						<span class="star"
																							ng-repeat="n in [] | rangenew:trip.rating"
																							style="font-size: 20px; color: #ddd;"><i
																							class="fa fa-star"></i> </span>

																					</div>


																				</div>

																				<br>

																				<div style="margin-top: 6px;" ng-if="trip.rating!=0">

																					<a href='#' data-toggle="modal" ng-click="readreview(trip)"
																						data-target="#myModal"
																						style="color: #2d2d2d; text-decoration: none; background: transparent;">

																						<span>Read Your Review</span>

																					</a>

																				</div>

																				<div style="margin-top: 6px;" ng-if="trip.rating==0">
																					<button type="button" class="btn btn-primary"
																						ng-click="givereview(trip)" data-toggle="modal"
																						data-target="#myModalNew"
																						style="width: 50%; font-size: auto;"
																						align="middle">Submit your Review</button>

																				</div>



																			</div>

																			<div class="modal fade" id="myModal" role="dialog">
																				<div class="modal-dialog">

																					<!-- Modal content-->
																					<div class="modal-content">
																						<div class="modal-header">
																							<button type="button" class="close"
																								data-dismiss="modal">&times;</button>
																							<h4 class="modal-title">Reviews</h4>
																						</div>
																						<div class="modal-body">
																							<p>{{ trip_new.review }}</p>
																							<div class="rating-wrapper">


																								<div class="rating"
																									style="display: inline-block; position: relative;">
																									<span class="star"
																										ng-repeat="n in [] | range:trip_new.rating"
																										style="font-size: 20px; color: #155f13;"><i
																										class="fa fa-star"></i> </span>

																								</div>
																								<div class="rating"
																									style="display: inline-block; position: relative;">
																									<span class="star"
																										ng-repeat="n in [] | rangenew:trip_new.rating"
																										style="font-size: 20px; color: #ddd;"><i
																										class="fa fa-star"></i> </span>

																								</div>


																							</div>
																						</div>

																						<!-- 	<div class="row">
																							<div class="col-sm-12">
																								<div class="alert alert-info"
																									ng-hide="no_review">
																									<strong>Host has not provided your
																										review yet.</strong>
																								</div>
																							</div>
																						</div> -->
																						<div class="row">
																							<div class="col-sm-12">
																								<div class="alert alert-danger"
																									ng-hide="unexpected_error || $parent.pastselected != trip">
																									<strong>Unexpected error, try again</strong>
																								</div>
																							</div>
																						</div>

																						<div class="modal-footer">
																							<button type="button" class="btn btn-default"
																								data-dismiss="modal">Close</button>
																						</div>
																					</div>

																				</div>
																			</div>



																			<div class="col-md-12"
																				style="border-top: 1px solid #bbb; width: 100%; padding: 15px 5px; float: left;">
																				<div>
																					<div></div>
																					<div>

																						<a href='#' data-toggle="modal" ng-click="viewreceipt(trip)"
																							data-target="#myModalReceipt"
																							style="position: relative; font-size: 16px; color: #2d2d2d; text-decoration: none; background: transparent;">
																							View Receipt</a>
																					</div>
																				</div>
																			</div>






																		</div>
																	</div>
																</div>
																<div class="row" align="middle">




																	<div class="modal fade" id="myModalNew" role="dialog">
																		<div class="modal-dialog">


																			<!-- Modal content-->
																			<div class="modal-content">
																				<div class="modal-header">
																					<button type="button" class="close" ng-click="closeReview();"
																						data-dismiss="modal">&times;</button>
																					<h4 class="modal-title">Submit your review</h4>
																				</div>
																				<div class="modal-body">

																					<div class="col-sm-8" align="left">

																						<div ng-init="rating = star.rating + 1">

																							<label for="star-rating"><strong>Select
																									your Rating:</strong></label>


																							<div class="star-rating" id="usrrating"
																								style="display: inline-block;" star-rating
																								rating-value="rating" data-max="5"
																								on-rating-selected="rateFunction(rating)"></div>


																							<br> <br>
																							<div class="btn-group">



																								<textarea rows="4" cols="65"
																									ng-model="$parent.review_model"
																									placeholder="Provide review on user here...."
																									required></textarea>




																								<div class="col-sm-3"></div>
																								<div class="col-sm-3"></div>


																								<div class="col-sm-6" align="right">
																									<br>
																									<button class="btn btn-danger"
																										style="display: block; width: 100%; font-size: auto"
																										ng-click="submitrating(trip)">
																										<strong>Submit Review & Rating</strong>
																									</button>
																									<br>
																								</div>

																							</div>

																						</div>

																					</div>




																				</div>
																				<div class="row">
																					<div class="col-sm-12">
																						<div class="alert alert-success"
																							ng-hide="review_success || $parent.pastselected != trip">
																							<strong>Review added successfully</strong>
																						</div>
																					</div>
																				</div>
																				<div class="row">
																					<div class="col-sm-12">
																						<div class="alert alert-danger"
																							ng-hide="unexpected_error || $parent.pastselected != trip">
																							<strong>Unexpected error, try again</strong>
																						</div>
																					</div>
																				</div>

																				<div class="row">
																					<div class="col-sm-12">
																						<div class="alert alert-danger"
																							ng-hide="review_validation || $parent.pastselected != trip">
																							<strong>Rating and Review are mandatory!</strong>
																						</div>
																					</div>
																				</div>



																				<div class="modal-footer">
																					<button type="button" class="btn btn-default" ng-click="closeReview();"
																						data-dismiss="modal">Close</button>
																				</div>
																			</div>


																		</div>


																		<br>
																	</div>



																</div>
															</div>

															<div class="modal fade" id="myModalReceipt" role="dialog">
																<div class="modal-dialog modal-lg">

																	<!-- Modal content-->
																	<div class="modal-content">
																		<div class="modal-header">
																			<button type="button" class="close"
																				data-dismiss="modal">&times;</button>
																			<h3 class="modal-title">Receipt: {{
																				trip_bill.nights }} nights in {{
																				trip_bill.city }}, {{
																				trip_bill.state }}</h3>

																			<div style="margin-top: 24px;">
																				<div style="font-family: Circular,"HelveticaNeue",Helvetica,Arial,sans-serif;color: #484848;font-size: 14px;">
																					<span>Booked by {{
																						trip_bill.u_fname }} {{
																						trip_bill.u_lname }}</span>
																				</div>

																				<div style="font-family: Circular,"HelveticaNeue",Helvetica,Arial,sans-serif;color: #484848;font-size: 14px;">
																					<span>{{
																						trip_bill.date.toString().substring(0,10)
																						}}</span>
																				</div>

																			</div>


																		</div>
																		<div class="modal-body">
																			<div class="row" style="font-family: Circular,"HelveticaNeue",Helvetica,Arial,sans-serif;font-size: 14px;color: #484848;">

																				<div class="col-md-5">
																					<div class="panel"
																						style="margin-bottom: 24px; border: 1px solid #dce0e0; background-color: #fff; border-radius: 0;">

																						<div class="panel-body"
																							style="padding: 44px; position: relative; margin: 0;">
																							<div class="row">
																								<div class="col-sm-12">

																									<strong style="color: #767676;"> <span>Check
																											In</span>

																									</strong> <strong style="color: #767676; float: right;">
																										<span>Check Out</span>

																									</strong>

																								</div>

																							</div>

																							<div class="row">
																								<div class="col-sm-6"
																									style="position: relative; display: table; height: 35px;">
																									<h4
																										style="display: table-cell; vertical-align: middle;">{{
																										trip_bill.check_in.toString().substring(0,10)
																										}}</h4>
																								</div>

																								<div class="col-sm-6"
																									style="position: relative; display: table; height: 35px; text-align: right;">
																									<h4
																										style="display: table-cell; vertical-align: middle;">{{
																										trip_bill.check_out.toString().substring(0,10)
																										}}</h4>
																								</div>
																							</div>

																							<hr
																								style="margin-top: 15px; margin-bottom: 15px; border: 0; border-top: 1px solid #dce0e0;">
																							<div class="row"
																								style="margin-top: 30px; margin-bottom: 30px;">
																								<div class="col-sm-12">
																									<h4>{{ trip_bill.category }}</h4>
																									<span>{{ trip_bill.title }}</span> <br>
																									<div>
																										{{ trip_bill.street }} <br> {{
																										trip_bill.city }}, {{
																										trip_bill.state }} {{
																										trip_bill.zip }} <br> United
																										States
																									</div>
																									<span> <br> <span> Hosted by
																											{{ trip_bill.h_fname }} {{
																											trip_bill.h_lname }} </span>

																									</span> <span> <br> <span> </span>

																									</span>




																								</div>

																							</div>


																							<hr
																								style="margin-top: 15px; margin-bottom: 15px; border: 0; border-top: 1px solid #dce0e0;">

																							<div class="row"
																								style="margin-top: 30px; margin-bottom: 30px;">

																								<div class="col-sm-12">
																									<h4>
																										<span>{{
																											trip_bill.No_of_guests }}
																											Travelers on this trip</span>
																									</h4>
																									<div class="margin-bottom: 6px;">
																										<div class="media media-photo media-round">

																											<img width="28" height="28"
																												class="img-circle dropbtn"
																												ng-src="{{imageUrl}}"
																												style="border-color: #c4c4c4; border: 2px solid #c4c4c4;">

																										</div>
																										<span
																											style="position: relative; top: -5px; left: 13px;">{{
																											trip_bill.u_fname }} {{
																											trip_bill.u_lname }}</span>

																									</div>

																									<div class="row">
																										<div class="col-md-12"></div>
																									</div>




																								</div>


																							</div>



																						</div>
																					</div>

																					<div></div>
																					<div>
																						<span><span><strong><span>Cost
																										per traveler</span></strong></span></span> <br>
																						<p>
																							This trip was <strong>${{
																								trip_bill.price }}</strong> per night,
																							including taxes and other fees.
																						</p>
																					</div>


																				</div>

																				<div class="col-md-7">
																					<div class="panel"
																						style="margin-bottom: 24px; border: 1px solid #dce0e0; background-color: #fff; border-radius: 0;">

																						<div class="panel-body"
																							style="padding: 44px; position: relative; margin: 0;">

																							<div class="row" style="margin-bottom: 6px;">

																								<div class="col-sm-12">
																									<h3>
																										<strong><span>Charges</span></strong>
																									</h3>
																								</div>

																							</div>
																							<div class="row" style="margin-bottom: 18px;">
																								<div class="col-sm-12">
																									<span> <span>${{
																											trip_bill.price }} × {{
																											trip_bill.nights }} nights</span> <span>&nbsp;</span>
																									</span> <span style="float: right;">${{
																										trip_bill.price*trip_bill.nights
																										}}</span>
																								</div>
																							</div>

																							<div class="row" style="margin-bottom: 18px;">
																								<div class="col-sm-12">
																									<span> <span>Service Fee</span> <span>&nbsp;</span>
																									</span> <span style="float: right;">$10</span>
																								</div>
																							</div>

																							<div class="row" style="margin-bottom: 18px;">
																								<div class="col-sm-12">
																									<span> <span>Cleaning fee</span> <span>&nbsp;</span>
																									</span> <span style="float: right;">$20</span>
																								</div>
																							</div>

																							<div class="row" style="margin-bottom: 18px;">
																								<div class="col-sm-12">
																									<span> <span>Occupancy taxes</span> <span>&nbsp;</span>
																									</span> <span style="float: right;">$10</span>
																								</div>
																							</div>

																							<div class="row"
																								style="margin-top: 30px; background-color: #edefed; padding: 20px 10px;">
																								<div class="col-sm-12"
																									style="float: none; margin-left: auto; margin-right: auto;">
																									<span
																										style="font-size: 18px; font-weight: bold;">
																										<span>Total</span>
																									</span> <span
																										style="font-size: 18px; font-weight: bold; float: right;">${{
																										trip_bill.total }}</span>
																								</div>
																							</div>


																						</div>
																					</div>



																					<div class="panel"
																						style="margin-bottom: 24px; border: 1px solid #dce0e0; background-color: #fff; border-radius: 0;">

																						<div class="panel-body"
																							style="padding: 44px; position: relative; margin: 0;">

																							<div class="row" style="margin-bottom: 6px;">
																								<div class="col-sm-12">
																									<h3>
																										<strong><span>Payment</span></strong>
																									</h3>
																								</div>
																							</div>
																							<div class="row" style="margin-bottom: 18px;">
																								<div class="col-sm-12">

																									<div style="float: left;">

																										<span>Charged to MASTER •••• {{
																											trip_bill.cardno.substring(12,16)
																											}}</span> <br> <small style="color: #767676;">{{
																											trip_bill.date.toString().substring(0,10)
																											}}</small>

																									</div>
																									
																									<div style="float:right;"><span>${{
																										trip_bill.total }}</span></div>

																								</div>
																							</div>

																						</div>
																					</div>



																				</div>



																			</div>

																		</div>

																	</div>
																</div>
															</div>

															
															<div class="pin_new">
																<a href='#'
																	style="color: #008489; text-decoration: none; background: transparent;">

																	<div class="img-container"
																		style="background-image: url(http://localhost:3001/getpicture0?prop_id={{trip.prop_id}});">

																	</div>

																</a>
																
																



																<!-- <div style="text-align: center;">

																	<a href='#' class="img-round img_photo"
																		style="margin-top: 220px; width: 60px; height: 60px; border-radius: 50%; border: 2px solid #fff; color: #008489; text-decoration: none; background: transparent;">

																		<img height="50" width="50"
																		src="https://a2.muscache.com/im/pictures/d5de2adb-a84b-4f81-814c-5f24c5701e4a.jpg?aki_policy=profile_small"
																		style="height: 60px; width: 60px; vertical-align: middle; border: 0;">

																	</a>
																	<div class="host_name">{{ trip.lname }}</div>

																</div> -->


															</div>


														</div>



													</div>
												</div>
											</div>



										</div>

										<div class="row">
											<div class="col-md-4"></div>
											<div class="col-md-4" align="center" ng-show="no_pasttrips">
												<button
													style="width: 25%; border-color: #ff5a5f; background-color: #ff5a5f; color: #fff;"
													class="btn" ng-disabled="currentPage3 == 0"
													ng-click="currentPage3=currentPage3-1">Previous</button>
												{{currentPage3+1}}/{{numberOfPages3()}}

												<button
													style="width: 25%; border-color: #ff5a5f; background-color: #ff5a5f; color: #fff;"
													class="btn"
													ng-disabled="currentPage3 >= data3.length/pageSize3 - 1"
													ng-click="currentPage3=currentPage3+1">Next</button>
											</div>
											<div class="col-md-4"></div>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>

	</div>

	<script>
		listing = "<%=JSON.stringify(property)%>"
	</script>
</body>
</html>